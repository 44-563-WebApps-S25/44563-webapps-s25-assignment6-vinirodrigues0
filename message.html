<!DOCTYPE html>
<html>
<head>
    <title>Web Apps Lab/Assignment 6</title>
</head>
 
<body>

<h2>Vinicius Rodrigues message cost</h2>

<form>
    <label for="basicprice">Enter cost per letter</label>
    <input type="number" id="basicprice" value="0.50"> <br>

    <label for="breakAt">Enter the length needed for the discount</label>
    <input type="number" id="breakAt" value="9"> <br>

    <label for="discount">Enter the discount percent</label>
    <input type="number" id="discount" value="10"> <br>

    <input type="button" onclick="amounts()" value="Show total">
</form>

<p id="result"></p>

<h2>Choose Operation</h2>
<form>
    <input type="radio" id="op_times" name="operation" value="times" onclick="chooseOp()">
    <label for="op_times">Product</label> <br>

    <input type="radio" id="op_add" name="operation" value="add" onclick="chooseOp()">
    <label for="op_add">Sum</label> <br>

    <input type="radio" id="op_mod" name="operation" value="mod" onclick="chooseOp()">
    <label for="op_mod">Mod</label> <br>
</form>

<p id="operationResult"></p>

<script> 
    // Part 5 
    function amounts() {
        price = parseFloat(document.getElementById("basicprice").value);
        breakAt = parseInt(document.getElementById("breakAt").value);
        discount = parseFloat(document.getElementById("discount").value) / 100;
        let myResults = "";

        for (let size = breakAt - 3; size <= breakAt + 3; size++) {
            let totalCost = 0;
            for (let i = 1; i <= size; i++) {
                if (i < breakAt) {
                    totalCost += price;
                }
                else {
                    totalCost += price * (1 - discount)
                }
            }
            myResults += `size ${size} is ${totalCost.toFixed(1)}; `;
        }

        document.getElementById("result").innerHTML = "Totals are: " + myResults;
    }

    // Part 6 
    function chooseOp() {
        price = parseFloat(document.getElementById("basicprice").value);
        breakAt = parseInt(document.getElementById("breakAt").value);
        let result = "";

        radios = document.getElementsByName("operation");
        for (let op of radios) {
            if (op.checked) {
                switch (op.value) {
                    case "add":
                        result = `${price} + ${breakAt} is ${price + breakAt}`;
                        break;
                    case "times":
                        result = `${price} * ${breakAt} is ${price * breakAt}`;
                        break;
                    case "mod":
                        result = `${price} % ${breakAt} is ${price % breakAt}`;
                        break;
                }
                break;   
            }
        }

        document.getElementById("operationResult").innerHTML = result;
    }
</script>

</body>
</html> 